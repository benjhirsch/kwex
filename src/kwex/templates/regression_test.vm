regression test command (from kwex directory): kwex templates/regression_test.vm testing/regression_test.fit testing/regression_test.lbl --output testing/output/regression_test.lblx --log testing/output/regression_test.log --override keep_json=ENABLED output_check=ENABLED warning_output=INFO

PDS3 label testing
==================

TARGET_NAME (basic pointer): $label.TARGET_NAME

INSTRUMENT_HOST_NAME (formal reference notation): ${label.INSTRUMENT_HOST_NAME}'s instruments

^HEADER (substitution): $label.PTR_HEADER

EXPOSURE_DURATION value (value/unit dictionary): $label.EXPOSURE_DURATION.value

EXPOSURE_DURATION unit: $label.EXPOSURE_DURATION.unit

QUATERNION, first element (arrays) $label.QUATERNION[0]

(looping through indexes)
#foreach ($q in $label.QUATERNION)
QUATERNION, all elements (loops): $q
#end

HEADER BYTES (nested object keyword): $label.HEADER.BYTES

IMAGE DESCRIPTION (multi-line values): $label.IMAGE.DESCRIPTION


FITS header testing
===================

APID (basic pointer): $fits.APID

#foreach ($x in $fits.CRPIX)
CRPIX${foreach.index} (iterative keywords): $x
#end

SPCK0083 (iterative w/ fits index): $fits.SPCK0083
SPCK0084 (iterative w/ array indexing): $fits.SPCK["0084"]

ext1 BITPIX (extension access): $fits.ext1.BITPIX
ext1 NAXIS (retained extension access): $fits.ext1.NAXIS

(extension plus loop)
#foreach ($t in $fits.ext1.TEST)
$t
#end
(loop end)

SPCBRRA unit (unit from fits comments): $fits.units.SPCBRRA

TEST1 unit (units on extension): $fits.ext1.units.TEST1


SPICE computation testing
=========================

SPCBRRA (instrument_boresight): $spice.SPCBRRA

SPCEMEN (clock_angle): $spice.SPCEMEN

SPCQA (quaternion_component): $spice.SPCQA

SPCESCRN (state_vector_magnitude): $spice.SPCESCRN

SPCSSCX (state_vector_component): $spice.SPCSSCX

SPCPAXIN (instrument_position_angle): $spice.SPCPAXIN

SPCTSCLA (sub_point): $spice.SPCTSCLA

PHASE_ANGLE (sol_phase_ang): $spice.PHASE_ANGLE


Velocity Logic testing
======================

#set ( $byteSum = $numberTool.toNumber($label.EXTENSION_CALIB_ERROR_EST_HEADER.BYTES) + $numberTool.toNumber($label.HEADER.BYTES) )
HEADER BYTES + EXTENSION_CALIB_ERROR_EST_HEADER BYTES (math): $byteSum

#if ( "$label.TARGET_NAME" == "ASTEROID 486958 (2014 MU69)" )
if logic successful
#end

#if ( "$label.TARGET_NAME" == "MOON" )
else logic unsuccessful
#else
else logic successful
#end
